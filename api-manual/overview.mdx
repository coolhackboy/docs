---
title: "API Overview"
description: "Complete API reference and architecture"
icon: "book"
---

# PoYo AI API Documentation

PoYo AI provides state-of-the-art image and video generation APIs with a unified, asynchronous architecture.

## Base URL

All API requests should be made to:

```
https://api.poyo.ai
```

## Authentication

PoYo AI uses API key authentication. Include your API key in the `Authorization` header:

```bash
Authorization: Bearer YOUR_API_KEY
```

<Card title="Get Your API Key" icon="key" href="https://poyo.ai/dashboard/api-key">
  Visit the API Console to generate your API key
</Card>

## API Architecture

### Unified Endpoints

PoYo AI uses a simple two-endpoint architecture for all generation types:

#### Submit Task
```http
POST https://api.poyo.ai/api/generate/submit
```

Submit image or video generation requests. Returns immediately with a `task_id`.

#### Query Status
```http
GET https://api.poyo.ai/api/generate/status/{task_id}
```

Check task progress and retrieve results.

### Asynchronous Processing

All generation tasks follow this workflow:

<Steps>
  <Step title="Submit Task">
    POST to `/api/generate/submit` with model and parameters
  </Step>
  <Step title="Receive Task ID">
    API returns `task_id` immediately with status `not_started`
  </Step>
  <Step title="Poll or Wait">
    Either poll `/api/generate/status/{task_id}` or receive webhook callback
  </Step>
  <Step title="Retrieve Results">
    When status is `finished`, get generated files from response
  </Step>
</Steps>

## Response Format

All endpoints return JSON with a consistent structure:

### Submit Response

```json
{
  "code": 200,
  "data": {
    "task_id": "task-unified-1757165031-uyujaw3d",
    "status": "not_started",
    "created_time": "2025-11-12T10:30:00"
  }
}
```

### Status Response

```json
{
  "code": 200,
  "data": {
    "task_id": "task-unified-1757165031-uyujaw3d",
    "status": "finished",
    "progress": 100,
    "files": [
      {
        "file_url": "https://storage.poyo.ai/generated/image-abc123.jpg",
        "file_type": "image"
      }
    ],
    "created_time": "2025-11-12T10:30:00",
    "error_message": null
  }
}
```

### Task Status Values

| Status | Description |
|--------|-------------|
| `not_started` | Task queued, waiting to begin |
| `running` | Task currently processing |
| `finished` | Task completed, results available in `files` array |
| `failed` | Task failed, error details in `error_message` |

### Error Response

```json
{
  "code": 400,
  "error": {
    "message": "Invalid parameter: size",
    "type": "invalid_request_error"
  }
}
```

## HTTP Status Codes

| Code | Description |
|------|-------------|
| 200 | Success - Request completed successfully |
| 400 | Bad Request - Invalid parameters |
| 401 | Unauthorized - Invalid or missing API key |
| 402 | Payment Required - Insufficient account balance |
| 500 | Internal Server Error - Server error occurred |

## Task Management Options

### Option 1: Polling (Simple)

Poll the status endpoint periodically:

```python
import time
while True:
    response = requests.get(f"{BASE_URL}/api/generate/status/{task_id}", headers=headers)
    task = response.json()["data"]
    if task["status"] in ["finished", "failed"]:
        break
    time.sleep(2)
```

### Option 2: Webhooks (Recommended)

Provide a `callback_url` to receive automatic notifications:

```python
payload = {
    "model": "gpt-4o-image",
    "callback_url": "https://your-domain.com/webhook",  # Receive results here
    "input": {"prompt": "..."}
}
```

<Card title="Webhook Documentation" icon="webhook" href="/api-manual/task-management/webhooks">
  Learn how to implement webhook callbacks
</Card>

## Important Notes

<Warning>
  **File Validity**: Generated images and videos are accessible for **24 hours** after creation. Download and save your content promptly.
</Warning>

<Info>
  **Rate Limits**: API rate limits vary by account type. Check your [console dashboard](https://poyo.ai) for current limits.
</Info>

<Tip>
  **Callbacks vs Polling**: Webhooks are more efficient than polling and recommended for production use.
</Tip>

## Quick Example

```python
import requests

API_KEY = "your-api-key-here"
BASE_URL = "https://api.poyo.ai"
headers = {"Authorization": f"Bearer {API_KEY}"}

# Submit task
response = requests.post(
    f"{BASE_URL}/api/generate/submit",
    json={
        "model": "gpt-4o-image",
        "callback_url": "https://your-domain.com/callback",
        "input": {"prompt": "A futuristic city", "size": "1:1"}
    },
    headers=headers
)
task_id = response.json()["data"]["task_id"]

# Check status
status_response = requests.get(
    f"{BASE_URL}/api/generate/status/{task_id}",
    headers=headers
)
print(status_response.json())
```

